<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="style.css">
  <title>Frontend Mentor | Coding Bootcamp Testimonials Slider</title>

</head>
<body>
  <section class="container">

    <div class="testi" id="t-1">
      <div class="t-text">
        <p>
          “ I’ve been interested in coding for a while but never taken the jump, until now. 
          I couldn’t recommend this course enough. I’m now in the job of my dreams and so 
          excited about the future. ”
        </p>
        <div class="hero-name">
          <h4>Tanya Sinclair</h4>
          <h5>UX Engineer</h5>
        </div>
      </div>
      <div class="t-img">
        <img src="images/image-tanya.jpg" alt="tanya's image" class="hero-img">
      </div>
    </div>

    <div class="testi" id="t-2">
      <div class="t-text">
        <p>
          “ If you want to lay the best foundation possible I’d recommend taking this course. 
          The depth the instructors go into is incredible. I now feel so confident about 
          starting up as a professional developer. ”
        </p>
        <div class="hero-name">
          <h4>John Tarkpor</h4>
          <h5>Junior Front-end Developer</h5>
        </div>
      </div>
      <div class="t-img">
        <img src="images/image-john.jpg" alt="john's image" class="hero-img">
      </div>
    </div>

    <div class="btnArrow">
      <button class="l-arr" ></button><button class="r-arr" ></button>
    </div>

  </section>
  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Olayemi Adetoun</a>.
  </div>
</body>
<script>
  !(function(d){
    //set initial state of variables and items
    var testItem = d.getElementsByClassName('testi')
    var tstLen = testItem.length
    var slide = 0
    moveing = true

    //Set classes to the Elements to be shown and which should be hidden
    function setClass(){
      testItem[tstLen - 1].classList.add('hide');
      testItem[0].classList.add('show');
    }

    //Set events to buttons
    function setEvents(){
      var next = d.getElementsByClassName('r-arr');
      var prev = d.getElementsByClassName('l-arr');

      next[0].addEventListener('click', moveNext);
      prev[0].addEventListener('click', movePrev);
    }

    //Navigation functions
    function moveNext(){
      if(!moveing){

        if (slide === (tstLen - 1))
        {
          slide = 0;
        }else{
          slide++;
        }
        moveTo(slide);
      }
    }

    function movePrev(){
      if(!moveing){

        if (slide === 0)
        {
          slide = (tstLen - 1);
        }else{
          slide--;
        }
        moveTo(slide);
      }
    }

    function disableInteraction() {
    // Set 'moving' to true for the same duration as our transition.
    // (0.5s = 500ms)
      moveing = true;
      // setTimeout runs its function once after the given time
      setTimeout(function(){
        moveing = false
      }, 500);
    }

    function moveTo(slide){
      var oldPrev, newPrev, newNext, oldNext;
      if(!moveing){
        disableInteraction();

        if (slide === 0){
           newPrev = (tstLen - 1);
           oldPrev = 0;
           oldNext = (slide + 1);
        }
        else if(slide === (tstLen - 1)){
          newPrev = slide - 1;
           newNext = 0;
          oldNext = 1;
          oldPrev = 1
        }

        testItem[oldPrev].className = 'testi';
        testItem[oldNext].className = 'testi';

        testItem[newPrev].className = 'testi' + " hide";
        testItem[slide].className = 'testi' + " show";
      }
    }

    function initCarousel() {
    setClass();
    setEvents();
    // Set moving to false so that the carousel becomes interactive
    moveing = false;
  }

  initCarousel();

  }
  (document)
  );
</script>
</html>